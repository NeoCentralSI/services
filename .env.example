# ─────────────────────────────────────────────────────────────────
# .env.example – copy to .env and fill in all values
# ─────────────────────────────────────────────────────────────────

# ── Server ───────────────────────────────────────────────────────
NODE_ENV=production
PORT=3000
BASE_URL=https://your-domain.com
FRONTEND_URL=https://your-frontend-domain.com

# ── Database (PostgreSQL via Prisma) ─────────────────────────────
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://postgres:password@db:5432/tka_db

# ── Redis ─────────────────────────────────────────────────────────
# When using docker-compose, the service name is 'redis'
REDIS_URL=redis://redis:6379

# ── Gotenberg (PDF generation) ────────────────────────────────────
# When using docker-compose, the service name is 'gotenberg'
GOTENBERG_URL=http://gotenberg:3000

# ── JWT Auth ──────────────────────────────────────────────────────
JWT_SECRET=change-me-use-a-long-random-string
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_SECRET=change-me-use-another-long-random-string
REFRESH_TOKEN_EXPIRES_IN=30d

# ── Microsoft Azure OAuth2 ────────────────────────────────────────
CLIENT_ID=your-azure-app-client-id
CLIENT_SECRET=your-azure-app-client-secret
TENANT_ID=your-azure-tenant-id
# Must match exactly what's registered in Azure Portal → Authentication → Web
REDIRECT_URI=https://your-domain.com/auth/microsoft/callback
SESSION_KEY=change-me-session-secret

# ── SMTP / Email ──────────────────────────────────────────────────
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=your-email@gmail.com

# ── Firebase Cloud Messaging ──────────────────────────────────────
# Option 1: full service account JSON (escape newlines as \n)
FCM_SERVICE_ACCOUNT_JSON=
# Option 2: individual fields (used if FCM_SERVICE_ACCOUNT_JSON is empty)
FCM_PROJECT_ID=
FCM_CLIENT_EMAIL=
FCM_PRIVATE_KEY=

# ── SIA Integration ───────────────────────────────────────────────
SIA_BASE_URL=http://localhost:4000
SIA_API_TOKEN=
SIA_FETCH_TIMEOUT=10000
SIA_CHUNK_SIZE=200
ENABLE_SIA_CRON=false

# ── Cron Jobs ─────────────────────────────────────────────────────
ENABLE_CRON=true
CRON_TIME_NOTIFY=0 * * * *
THESIS_STATUS_CRON=30 2 * * *
THESIS_STATUS_TZ=Asia/Jakarta
GUIDANCE_REMINDER_CRON=0 7 * * *
GUIDANCE_REMINDER_TZ=Asia/Jakarta
DAILY_THESIS_REMINDER_CRON=0 9 * * *
DAILY_THESIS_REMINDER_TZ=Asia/Jakarta

# ── App Meta ──────────────────────────────────────────────────────
APP_NAME=NeoCentral API
APP_OWNER=Universitas Andalas
